# 컴퓨터 네트워크란
## 컴퓨터 네트워크
- 여러 장치가 연결되어 정보를 주고받을 수 있는 통신망을 의미
## 인터넷
- 여러 네트워크를 연결한 네트워크의 네트워크(Network of Network)
# 거시적 관점에서의 네트워크
## 네트워크의 기본 구조
- 모든 네트워크는 `노드`, `간선`, `메세지`로 구성
### 호스트
- **호스트(host)** 또는 **종단 시스템(end system)**이라 불림
- 인터넷에 연결되는 다양한 컴퓨터와 그 밖의 장치들
- **클라이언트(client)**와 **서버(server)**로 분류
#### 클라이언트
- 서버에게 어떠한 서비스를 **요청(request)**하고 서버의 **응답(response)**을 제공받는 호스트
#### 서버
- 어떠한 서비스를 제공하는 호스트
### 네트워크 장비
- 네트워크 가장자리에 위치하지 않는 노드
- 이더넷 허브, 스위치, 라우터, 공유기 등
- 호스트 간 주고받는 정보가 원하는 수신지까지 안정적이고 안전하게 전송될 수 있도록 함
### 통신 매체
- 노드들을 연결하는 간선
- 유선으로 연결하면 `유선 매체`, 무선으로 연결하면 `무선 매체`
### 메시지
- 통신 매체로 연결된 노드가 주고 받는 정보
## 범위에 따른 네트워크 분류
### LAN(Local Area Network)
- 가까운 지역을 연결한 근거리 통신망
- 가정, 학교, 기업과 같이 한정된 공간에서의 네트워크
### WAN(Wide Area Network)
- 먼 지역을 연결하는 광역 통신망
- 인터넷이 WAN으로 분류
- 인터넷을 사용하기 위해 접속하는 WAN은 `ISP(Internet Service Provider)`가 관리
#### 패킷
- 소포, 꾸러미
- 패킷 교환 네트워크 상에서 송수신 되는 메시지의 단위
- 송신 종단 시스템에서 수신 종단 시스템(목적지)으로 보내짐.
- 송신 종단 시스템이 보내고자 하는 데이터를 세그먼트(segment)로 나누고, 각 세그먼트에 헤더(header)를 부착하여 수신 종단 시스템으로 전송
- 패킷은 목적지에서 원래의 데이터로 다시 조립됨
- `페이로드(payload)` : 패킷을 통해 전송하고자 하는 데이터
- `헤더(header)`, `트레일러(trailer)` : 부가 정보, 제어 정보

#### 패킷 스위치
- 입력 통신 링크 중 하나
- 도착하는 패킷을 받아서 출력 통신 링크의 하나로 그 패킷을 전달 (최종 목적지 방향으로 패킷을 전달)
  - 링크 계층 스위치(link-layer switch) : 보통 접속 네트워크에서 사용
  - 라우터(router) : 보통 네트워크 코어에서 사용
#### ISP(Internet Service Provider)
- 패킷 스위치와 통신 링크로 이루어진 네트워크
- 종단 시스템에게 다양한 네트워크 접속을 제공 (가정용 초고속 접속, 고속 LAN 접속, 이동 무선 접속 등)
- CP(content provider)에게 인터넷 접속을 제공, 웹 사이트나 비디오 서버를 인터넷에 직접 연결할 수 있음
- ISP들의 상호 연결
  - 하위 계층 ISP는 국가 & 국제 상위 계층 ISP를 통해 서로 연결 
  - 상위 계층 ISP들은 서로 직접 연결
  - 각 ISP 네트워크는 따로 관리되고, IP 프로토콜을 수행하며, 네이밍(naming)과 주소배정 방식을 따름
  
> 인터넷은 호스트를 서로 연결하기에, 호스트에 접속을 제공하는 ISP들도 서로 연결되어야 함

## 메시지 교환 방식에 따른 네트워크 분류
### 회선 교환 방식(Circuit switching)
- 전송로인 회선을 설정, 이를 통해 메시지를 주고 받는 방식
- 회선 설정 == 두 호스트가 연결되었다, 전송로를 확보하였다.
- `회선 스위치` : 호스트 간의 회선을 적절하게 설정(전화망 등)
- `장점` : 두 호스트 사이 연결 확보 후 메시지를 주고 받음 - 전송되는 정보 양 일정
- `단점` : 회선의 이용 효율이 낮아질 수 있음 - 메시지 교환하지 않으면서 회선을 점유
### 패킷 교환 방식(Packet switching)
- 메시지를 **패킷**이라는 작은 단위로 쪼개어 전송
- 메시지를 송수신하는 두 호스트가 하나의 전송 경로를 점유하지 않음 - 효율 증가
- 패킷은 링크의 최대 전송률과 같은 속도로 각각의 통신 링크에서 전송
- 정해진 경로만으로 메시지 송수신하지 않고 다양한 중간 노드(**패킷 스위치**)를 거침
  - 패킷이 수신지까지 올바르게 도달할 수 있도록 최적의 경로를 결정하거나 패킷의 송수신지를 식별
  - `라우터`, `스위치`
  
> `주소` : 송수신지를 특정하는 정보
> `유니캐스트(unicast)` : 가장 일반적인 형태의 송수신, 일대일
> `브로드캐스트(broadcast)` : 자신을 제외한 네트워크상 모든 호스트에게 전송
> `브로드캐스트 도메인(broadcast domain)` : 브로드캐스트가 전송되는 범위
> `멀티캐스트(multicast)` : 네트워크 내의 동일 그룹에 속한 호스트에게만 전송하는 방식
> `애니캐스트(anycast)` : 네트워크 내의 동일 그룹에 속한 호스트 중 가장 가까운 호스트에게 전송하는 방식

# 미시적인 관점에서의 네트워크
## 프로토콜
- 노드 간에 정보를 올바르게 주고받기 위해 합의된 규칙이나 방법
- 서로 다른 통신 장치들이 정보를 주고 받기 위해서는 프로토콜이 통해야 됨
- 프로토콜은 저마다의 목적과 특징을 가지고 있음
> `IP` : 패킷을 수신지까지 전달하기 위해 사용되는 프로토콜
> `ARP` : 192.168.1.1과 같은 형태의 `IP 주소`를 A1:B2:C3:D4:E5:F6과 같은 형태의 `MAC 주소`로 대응하기 위해 이용되는 프로토콜
> `HTTPS` : `HTTP`에 비해 보안상 더 안전한 프로토콜
> `TCP` : `UDP`에 비해 일반적으로 느리지만 신뢰성이 높은 프로토콜

## 네트워크 참조 모델
- `네트워크 참조 모델(network reference model)`, `네트워크 계층 모델`
- 통신이 일어나는 각 과정을 계층으로 나눈 구조
### 계층 구조의 장점
- 네트워크의 구성과 설계가 용이
- 네트워크 문제 진단과 해결이 용이
### OSI 모델
- ISO에서 만든 네트워크 참조 모델
  
![OSI](https://velog.velcdn.com/images/red-sprout/post/db5af03e-82ce-46be-9c74-f916dfe74f3b/image.png)

#### 물리 계층
- 최하단 계층, 비트 신호를 주고 받음
- `모뎀(Modem)` : 아날로그 신호를 디지털 신호로 변환
- `허브(Hub)` : 다수의 컴퓨터를 연결하여 하나의 네트워크로 전송
- `리피터(Repeater)` : 디지털 신호 증폭
#### 데이터 링크 계층
- 네트워크 내 주변 장치 간의 정보를 올바르게 주고받기 위한 계층
- 링크 계층 패킷 == **프레임(frame)**
- 데이터 시작과 끝 부분에 제어 정보를 추가하여 에러를 확인하고 제어
- `MAC주소(Media Access Control Address)`를 할당하여 네트워크 장비들을 식별
- `HDLC`, `PPP`, `LLC`
#### 네트워크 계층
- 메시지를 다른 네트워크가 속한 수신지까지 전달하는 계층
- 한 호스트에서 다른 호스트로 데이터그램(datagram, IP의 전송 단위)을 라우팅하는 책임
- 네트워크 간 통신, 스위칭과 라우팅
- IP 주소라는 주소 체계를 통해 통신하고자 하는 수신지 호스트와 네트워크를 식별, 원하는 수신자에 도달하기 위한 최적의 경로를 설정
- `IP`, `ARP`, `RARP`, `ICMP`, `IGMP`
#### 전송 계층
- 애플리케이션 계층 메시지를 전달
- `TCP(Transmission Control Protocol)`
  - 패킷 == **세그먼트(segment)**
  - 신뢰성있는 데이터 전송이 목적
- `UDP(User Datagram Protocol)`
  - 패킷 == **데이터그램(Datagram)**
  - 빠른 데이터 전송이 목적
#### 세션 계층
- `세션(Session)`을 관리
- `SSH`, `TLS`, `RPC`
- `세션(Session)` : 통신을 주고 받는 호스트의 응용 프로그램 간 연결 상태
#### 표현 계층
- 사람이 이해할 수 있는 문자를 기계어로 변환, 압축, 암호화
#### 응용 계층
- OSI 7계층 최상단
- 응용 서비스 제공, 사용자 인터페이스
- `HTTP(HyperText Transfer Protocol)`, `FTP(File Transfer Protocol)`, `SMTP(Simple Mail Transfer Protocol)`
### TCP/IP 모델
- TCP/IP 4계층, 인터넷 프로토콜 스위트(Internet Protocol Suite), TCP/IP 프로토콜 스택(Protocol Stack)
  
![OSI & TCP/IP](https://velog.velcdn.com/images/red-sprout/post/b383b4f6-b800-4a5f-8644-fc2119852b96/image.png)

## 캡슐화와 역캡슐화
- 패킷은 송신 과정에서 캡슐화가 이루어지고, 수신 과정에서 역캡슐화가 이루어짐
### 캡슐화
- 송신하는 입장 택배를 포장한다고 생각해보자.
- `캡슐화` : 네트워크 계층 구조에서 계층이 내려갈 수록 패킷에 헤더 및 트레일러 등을 추가해나감
### 역캡슐화
- 수신하는 입장 택배 포장지를 제거한다고 생각해보자.
- `역캡슐화` : 캡슐롸 과정에서 붙였던 헤더 등을 각 계층에서 확인한 뒤 제거
## PDU
- `PDU(Protocol Data Unit)` : 각 계층에서 송수신되는 메시지의 단위
- `데이터(data)` : 응용, 표현, 세션 계층
- `세그먼트(segment), 데이터그램(datagram)` : 전송 계층
- `패킷(packet)` : 네트워크 계층
- `프레임(frame)` : 데이터 링크 계층
- `비트(bit)` : 물리 계층

# 몇 가지 질문들(with chatGPT)
## 1. OSI 7 layer에 대해 아는대로 설명해주세요.
**답변:** OSI(Open Systems Interconnection) 7계층은 네트워크 통신을 계층적으로 나누어 각 단계에서 처리되는 기능을 정의한 모델입니다. 계층은 아래에서부터 물리 계층, 데이터 링크 계층, 네트워크 계층, 전송 계층, 세션 계층, 표현 계층, 응용 계층으로 구성되어 있습니다.  
- **물리 계층**: 데이터 전송의 물리적 매체, 전기적 신호 변환 담당. (예: 케이블, 모뎀)
- **데이터 링크 계층**: 물리적으로 연결된 장치 간의 신뢰성 있는 전송을 담당하며, 오류 검출 및 흐름 제어를 수행. (예: 스위치, MAC 주소)
- **네트워크 계층**: 패킷을 목적지까지 전달하며, 경로 설정 및 라우팅을 담당. (예: IP, 라우터)
- **전송 계층**: 신뢰성 있는 데이터 전송을 보장하며, TCP와 UDP를 사용해 세그먼트 단위의 데이터를 전송. (예: TCP, UDP)
- **세션 계층**: 통신 세션을 관리하며, 연결 설정, 유지, 종료를 처리. (예: SSH, TLS)
- **표현 계층**: 데이터의 형식, 암호화 및 압축을 담당하여 응용 계층이 이해할 수 있도록 변환. (예: JPEG, SSL)
- **응용 계층**: 사용자와 네트워크 간의 인터페이스를 제공하며, 파일 전송, 이메일 등 응용 서비스를 제공. (예: HTTP, FTP, SMTP)

## 2. 캡슐화와 비캡슐화 과정에 대해 설명해주세요.
**답변:** 캡슐화는 데이터를 송신할 때 각 계층마다 헤더나 트레일러 등의 제어 정보를 덧붙여 최종적으로 패킷을 구성하는 과정입니다. 예를 들어, 응용 계층에서 데이터가 전송되면 각 계층마다 프로토콜에 맞는 정보를 추가하여 물리 계층으로 전달됩니다. 비캡슐화는 그 반대 과정으로, 수신한 패킷에서 각 계층에서 붙인 헤더 정보를 제거하여 원래의 데이터를 복원하는 과정입니다.

## 3. PDU(Protocol Data Unit)란 무엇인가요?
**답변:** PDU는 프로토콜 데이터 단위(Protocol Data Unit)로, 각 계층에서 데이터를 송수신할 때 사용되는 데이터의 형식입니다. 계층마다 부르는 명칭이 다른데, 예를 들어 전송 계층에서는 세그먼트, 네트워크 계층에서는 패킷, 데이터 링크 계층에서는 프레임이라고 부릅니다.

### 4. 네트워크 중립성(Neutrality) 개념에 대해 설명하고 ISP에 미치는 영향은 무엇인가요?
**답변:** 네트워크 중립성은 인터넷 서비스 제공업체(ISP)가 모든 데이터를 동등하게 취급해야 하며, 특정 콘텐츠나 서비스에 대해 차별을 두지 말아야 한다는 원칙입니다. ISP는 어떤 사이트에 대한 속도 제한, 차단 등을 할 수 없으며, 모든 사용자가 동일한 품질의 인터넷을 이용할 수 있도록 보장해야 합니다. 만약 네트워크 중립성이 약화된다면, ISP는 특정 기업이나 콘텐츠에 유리한 서비스 제공을 통해 추가 수익을 창출할 수 있지만, 소규모 콘텐츠 제공자나 사용자에게는 불리하게 작용할 수 있습니다.

## 5. LAN이란 무엇인가요?
**답변:** LAN(Local Area Network)은 제한된 지역에서 사용하는 근거리 통신망으로, 가정, 학교, 기업 등 소규모 환경에서 여러 장치를 연결하여 데이터와 자원을 공유하는 네트워크입니다. LAN은 높은 데이터 전송 속도와 낮은 지연 시간을 제공하며, 주로 이더넷을 통해 연결됩니다.

## 6. WAN이란 무엇인가요?
**답변:** WAN(Wide Area Network)은 서로 멀리 떨어진 지역 간의 네트워크를 연결한 광역 통신망입니다. 인터넷은 대표적인 WAN으로, 국가 또는 국제적인 규모로 여러 LAN이나 다른 네트워크를 연결하여 대규모 데이터 통신을 가능하게 합니다. WAN은 ISP(인터넷 서비스 제공업체)에 의해 관리됩니다.

## 7. CDN(Content Delivery Network)에 대해 설명해주세요.
**답변:** CDN은 콘텐츠 전송 네트워크로, 웹 콘텐츠를 사용자에게 빠르게 제공하기 위해 지리적으로 분산된 서버 네트워크입니다. CDN은 사용자와 가까운 서버에서 콘텐츠를 전달함으로써 지연 시간을 줄이고, 웹 페이지 로딩 속도를 높이며, 대규모 트래픽에도 안정적인 서비스를 제공합니다. 유튜브나 넷플릭스와 같은 대형 서비스가 CDN을 사용하여 전 세계 사용자에게 동영상 콘텐츠를 빠르게 전송합니다.

## 8. DMZ는 무엇이며 어떤 역할을 하나요?
**답변:** DMZ(Demilitarized Zone)는 외부 인터넷과 내부 네트워크 사이에 위치한 중간 영역으로, 외부에서 접근 가능한 서버(예: 웹 서버, 이메일 서버)를 배치하여 내부 네트워크를 보호하는 역할을 합니다. DMZ에 위치한 서버는 외부로부터 공격받을 가능성이 있지만, 이를 통해 내부 네트워크로의 접근을 막고 중요한 자원을 보호합니다.

## 9. TCP/IP 4계층은 무엇인가요?
**답변:** TCP/IP는 4계층 모델로, 각각의 계층은 특정 네트워크 기능을 담당합니다.
- **네트워크 인터페이스 계층**: 물리적 장비와 데이터 링크 계층을 처리합니다.
- **인터넷 계층**: 패킷을 목적지 IP 주소로 전달하는 역할을 합니다. (예: IP 프로토콜)
- **전송 계층**: 신뢰성 있는 데이터 전송을 관리하며, TCP와 UDP 프로토콜을 포함합니다.
- **응용 계층**: HTTP, FTP 등 네트워크 응용 프로그램과 연결된 데이터 전송을 담당합니다.

## 10. Socket이란 무엇인가요?
**답변:** 소켓(Socket)은 네트워크 상에서 프로세스 간 통신을 가능하게 하는 소프트웨어 인터페이스입니다. 소켓은 IP 주소와 포트 번호를 사용하여 네트워크 상에서 통신할 수 있는 경로를 설정합니다. 클라이언트와 서버 간의 데이터를 주고받는 통신의 끝점 역할을 하며, TCP와 UDP 기반의 통신을 처리합니다.

# 출처
- 혼자서 공부하는 네트워크 - 01. 컴퓨터 네트워크 시작하기
- 컴퓨터 네트워킹: 하향식 접근 (제8판) - Chapter 01
- https://huimang2.github.io/etc/iso-standard-7498
- https://westahn.com/osi-7-%EA%B3%84%EC%B8%B5%EC%9D%B4%EB%9E%80/
