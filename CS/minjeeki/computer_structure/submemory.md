# 보조 기억 장치

# 하드 디스크와 플래시 메모리

## 하드 디스크

: 자기적인 방식으로 데이터를 저장하는 보조 기억장치 (자기 디스크의 일종으로 보기도)

### 하드 디스크 구성과 데이터 저장

- 플래터
    
    : 자기 물질로 덮여 있어 N극과 S극을 저장함
    
    - 플래터는 여러겹으로 사용될 수도 있음
    - 데이터 저장 단위
        - 트랙 : 하나의 원
        - 실린더 : 여러개의 플래터에서 같은 트랙끼리 연결한 논리적 단위
            - 연속된 정보는 보통 한 실린더에기록됨 (플래터 윗면, 아랫면 연속)
                
                ⇒ 디스크 암을 움직이지 않고 데이터 접근이 가능하기 때문
                
        - 섹터 : 하나의 원에서의 조각 ⇒ 하드 디스크의 가장 작은 전송 단위
        (블록 : 하나 이상의 섹터를 묶어서 표현)
        
        ⇒ 데이터는 하드 디스크의 섹터, 트랙, 실린더에 저장됨
        
- 스핀들 : 플래터를 회전시키는 구성 요소
    - RPM : 스핀들이 플래터를 돌리는 속도 (분당 회전수)
- 헤드 : 플래터를 대상으로 데이터를 읽고 쓰는 구성 요소
    - 트랙마다 달린 헤드 개수를 기준으로 명칭 달리하기도 함
    : 다중 헤드 디스크 (고정 헤드 디스크)  / 단일 헤드 디스크(이동 헤드 디스크)
- 디스크 암 : 헤드를 부착시켜 원하는 위치로 이동할 수 있도록 함

### 하드 디스크 저장 데이터 접근 시간

- 접근에 관여하는 시간
    - 탐색 시간 : 접근하려는 데이터가 저장된 트랙까지 헤드를 이동시키는 시간
    - 회전 지연 : 헤드가 있는 곳으로 플래터를 회전
    - 전송 시간 : 하드 디스크와 컴퓨터 간 데이터 전송
- 하드 디스크 데이터 접근 시간 요인
    - RPM 향상 (플래터를 빨리 돌려 탐색 시간과 회전 지연 단축)
    - 참조 지역성 향상 (접근하려는 데이터가 플래터, 헤드를 조금만 옮겨도 접근할 수 있도록)

## 플래시 메모리

> 플래시 메모리 기반 보조 기억 장치 : USB 메모리, SD 카드, SSD
> 

: 전기적으로 데이터를 읽고 쓸 수 있는 반도체 기반의 저장 장치 (보조기억장치 범위 외 다양한 곳에서도 사용 / ROM, 대부분의 전자제품 내)

### 플래시 메모리 종류

: NAND 게이트와 NOR 게이트 기반 만들어진 플래시 메모리로 분류

- NAND 플래시 메모리 ⇒ 보조기억장치로서의 플래시 메모리
- NOR 플래시 메모리

### 플래시 메모리의 저장 단위

- 셀 : 플래시 메모리의 저장 최소 단위
    - 한 셀에 몇 비트를 저장할 수 있냐에 따라 타입 구분
        - SLC : 한 셀에 1비트 저장
            
            ⇒ 빠른 입출력 가능 / 수명 긺 / 용량 대비 가격 높음
            
            ⇒ 읽고 쓰기 많이 반복, 고성능의 저장 장치 필요한 경우
            
        - MLC : 한 셀에 2비트 저장
            
            ⇒ SLC 타입보다 대용량화하기 좋음
            
            (시중 사용 플래시 메모리 저장 장치가 MLC 또는 TLC로 만들어짐)
            
        - TLC : 한 셀에 3비트 저장
        
        ⇒ 플래시 메모리의 수명, 속도, 가격에 큰 영향을 미침
        
- 페이지 : 셀들이 모여 만들어진 단위
    
    ⇒ 읽기와 쓰기 단위로 이용
    
- 블록 : 페이지가 모여 만들어진 단위
    
    ⇒ 삭제 단위로 이용
    
- 플레인 : 블록이 모여 만들어진 단위
- 다이 : 플레인이 모여 만들어진 단위

### 페이지의 상태

- Free 상태
    
    : 어떤 데이터도 저장하고 있지 않아 새로운 데이터 저장 가능
    
- Valid 상태
    
    : 유효 데이터를 저장하고 있는 상태
    
    ⇒ 새 데이터 저장 불가 (덮어쓰기 불가)
    
- Invalid 상태
    
    : 쓰레기값이라고 부르는 유효하지 않은 데이터를 저장하고 있는 상태
    
    ⇒ 용량 낭비 (삭제는 블록 단위로 이뤄지기 때문)
    
    ⇒ 가비지 컬렉션(유효 페이지만 복사한 후 기존 블록 삭제) 기능 제공하는 플래시 메모리도 존재
    

# RAID

: 데이터의 안정성 또는 높은 성능을 위해 여러개의 물리적 보조기억장치들을 하나의 논리적 보조기억장치처럼 사용하는 기술 (하드 디스크와 SSD를 사용하는 기술)

- RAID 레벨 (RAID 구성 방법)
    - RAID 0
    - RAID 1
    - RAID 2
    - RAID 3
    - RAID 4
    - RAID 5
    - RAID 6 → RAID 10, RAID 50 등으로 파생
    
    ⇒ 어떤 상황에서 어떤 것을 우선순위로 두냐 (안정성, 속도)에 따라 최적의 RAID 레벨 달라짐
    

### RAID 0

: 여러개의 보조 기억 장치에 데이터를 단순히 나누어 (장치 번갈아가며) 저장하는 방식\

- 스트라입 : 줄무늬처럼 분산되어 저장된 데이터
- 스트라이핑 : 줄무늬처럼 분산하여 저장하는 것
- 장점
    - 데이터 읽고 쓰는 속도가 빠름 (여러개의 데이터를 동시에 읽고 쓰기 가능)
- 단점
    - 저장된 정보가 안전하지 않음
    (하드 디스크 중 하나 문제 생길 경우 다른 하드 디스크 정보  읽는데 문제 생길 수 있음)

### RAID 1

: 스트라이핑 + 복사본(백업) 생성 (미러링)

- 미러링 : 완전한 복사본을 만드는 구성
- 장점
    - 안전함
- 단점
    - 느린 읽고 쓰기 속도 : RAID 0보다 느림 (물리적 저장 디스크 개수가 적기 때문)
    - 디스크 개수 한정될 경우 사용 가능 용량 감소 : 복사본이 만들어지는 용량 만큼 사용 불가
    → 하드 디스크 더 필요 → 비용 증가

### RAID 4

: 오류를 검출하고 복구하기 위한 정보를 저장하는 장치를 두는 구성 방식

- 패러티 비트 : 오류를 검출하고 복구하기 위한 정보
(원래의 패러티 비트는 오류 검출만 가능하고 복구는 불가하나 RAID에서는 오류 수정 가능)
- 장점
    - RAID 1보다 적은 하드 디스크로도 데이터 안전 보관 가능
- 단점
    - 새로운 데이터 저장될 때마다 패러티 저장 디스크에도 데이터 쓰게 됨
    ⇒ 여러개 데이터 디스크에 각각 저장 시 패러티 비트 저장 디스크에 병목 현상 발생

### RAID 5

: 패러티 정보를 분산해 저장하는 방식

- 장점
    - RAID 4의 문제인 병목 현상 해결 가능

### RAID 6

: RAID5의 방식에 패러티 2개 저장

- 장점
    - 오류 검출 및 복구 수단 증가 ⇒ 안전한 구성
- 단점
    - 새로운 정보 저장할 때마다 저장할 패러티가 2개이기에 RAID  5보다 쓰기 속도 느림

# 문제

1. 하드 디스크의 데이터 접근 시간을 빨리 할 수 있는 방법에 대해서 설명해주세요.
2. 플래시 메모리의 Invalid 상태에서 발생하는 용량 낭비의 원인에 대해서 설명하고 최근의 플래시 메모리는 이를 어떻게 해결하는지 설명하세요.
3. 보조기억장치 저장 기술 중에서 데이터의 안정성을 높이기 위해 패러티 비트를 사용하는 RAID 레벨에 대해 설명하고 각 레벨별 차이에 대해서 설명하세요.