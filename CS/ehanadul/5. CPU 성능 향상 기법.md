# Chapter 5. CPU 성능 향상 기법

- 코어 :  명령어를 실행할 수 있는 하드웨어 부품
- 스레드 :  명령어를 실행하는 단위
- 멀티코어 프로세서 : 명령어를 실행할 수 있는 하드웨어 부품이 CPU안에 두 개 이상 있는 CPU
- 멀티스레드 프로세서 : 하나의 코어로 여러 개의 명령어를 동시에 실행할 수 있는 CPU

## 스레드와 멀티스레드

- 스레드(thread) : 실행 흐름의 단위
    - 하드웨어적 스레드 :  CPU에서 사용
        - **하나의 코어가 동시에 처리하는 명령어 단위**
    - 소프트웨어적 스레드 : 프로그램에서 사용
        - **하나의 프로그램에서 독립적으로 실행되는 단위**


> **하드웨어적 스레드**
>

---

**하나의 코어가 동시에 처리하는 명령어의 단위**

- 한 번에 하나씩 명령어를 실행하는 CPU를 가정 → 1코어 1스레드 CPU

- **멀티스레드(multithread) 프로세서, 멀티스레드 CPU** ⇒ 하나의 코어로 여러 명령어를 동시에 처리하는 CPU
    - **2코어 4스레드 CPU**
        - **명령어를 실행하는 부품을 두 개 포함**하고, **한 번에 네 개의 명령어를 처리**할 수 있는 CPU
    - 8코어 16스레드
        - 명령어를 실행하는 부품을 여덟개 포함하고 한번에 16개의 명령어 처리 (코어 하나당 2개의 하드웨어 스레드를 처리

- **멀티스레드 프로세서** : 여러 개의 하드웨어적 스레드를 지원하는 CPU
- **하이퍼스레딩(hyper-threading)** : 인텔의 멀티스레드 기술(인텔이 자신들의 멀티스레드 기술에 붙인 이름)

> **소프트웨어적 스레드**
>

: 하나의 프로그램에서 독립적으로 실행되는 단위

- 하나의 프로그램은 실행되는 과정에서 한 부분만 실행될 수도 있지만,
  프로그램이 여러 부분이 동시에 실행될 수도 있음

---

> **멀티스레드 프로세서**
>

하나의 코어로 여러 명령어를 동시에 처리하는 기술 (하드웨어적 스레드)

- 멀티스레드 프로세서는 하나의 코어로 여러 명령어를 동시에 처리하는 CPU
- 멀티스레드 프로세서를 실제로 설계하는 일은 복잡하지만 가장 큰 핵심은 **레지스터**

---

## 5-3. CISC와 RISC

:현대 CPU의 주요 설계 방식

- CISC(Complex Instruction Set Computer)
    - 복잡한 명령어 집합을 활용하는 컴퓨터(CPU)
    - 다양하고 강력한 기능의 명령어 집합을 활용하기 때문에 명령어의 형태와 크기가 다양한 `가변 길이 명령어` 활용
- RISC(Reduced Instruction Set Computer)
    - CISC에 비해 명령어의 종류가 적고, 짧고 규격화된 명령어, 되도록 1클럭 내외로 실행되는 명령어 지향
    - RISC는 `고정 길이 명령어` 활용
    - RISC는 메모리에 직접 접근하는 명령어를 load, store 두 개로 제한하여 메모리 접근을 단순화하고 최소화를 추구
    - | CISC | RISC |
      | --- | --- |
      | 복잡하고 다양한 명령어 | 단순하고 적은 명령어 |
      | 가변 길이 명령어 | 고정 길이 명령어 |
      | 다양한 주소 지정 방식 | 적은 주소 지정 방식 |
      | 프로그램을 이루는 명령어의 수가 적음 | 프로그램을 이루는 명령어의 수가 많음 |
      | 여러 클럭에 걸쳐 명령어 수행 | 1클럭 내외로 명령어 수행 |
      | 파이프라이닝 하기 어려움 | 파이프라이닝 하기 쉬움 |