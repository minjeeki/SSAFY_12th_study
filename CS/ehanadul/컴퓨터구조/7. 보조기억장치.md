# Chapter7. 보조기억장치

## RAID의 정의와 종류

### **RAID**

- 하드 디스크와 SSD를 사용하는 기술로, 데이터의 안정성 혹은 높은 성능을 위해 여러 개의 물리적 보조기억장치를 하나의 논리적 보조기억장치처럼 사용하는 기술
- **데이터의 안정성 혹은 높은 성능을 위해 여러 하드 디스크나 SSD를 마치 하나의 장치처럼 사용하는 기술**
    - **RAID 0 :  데이터를 단순히 병렬로 분산하여 저장하는 방식**
    - **RAID 1 : 완전한 복사본을 만드는 방식**
    - **RAID 4 :  패리티를 저장한 장치를 따로 두는 방식**
    - **RAID 5 : 패리티를 분산하여 저장하는 방식**
    - **RAID 6 :  서로 다른 두 개의 패리티를 두는 방식**
    - RAID 2나 RAID 3은 현재 잘 안 씀

> **RAID 0**
>

여러 개의 보조기억장치에 데이터를 단순히 나누어 저장하는 구성 방식

- 1TB 하드 디스크 네 개로 RAID 0을 구성했다고 가정

- 어떠한 데이터를 저장할 때 각 하드 디스크는 아래와 같이 번갈아 가며 데이터를 저장함

저장되는 데이터가 하드 디스크 개수만큼 나뉘어 저장됨

- 스트라입(stripe): 줄무늬처럼 분산되어 저장된 데이터
    - 저장된 데이터를 읽고 쓰는 속도가 빨라짐
        - 하나의 대용량 저장 장치를 이용했더라면 여러 번에 걸쳐 읽고 썼을 데이터를 동시에 읽고 쓸 수 있음
- 분산하여 저장하는 것 → 스트라이핑(striping)
- **단점 : 저장된 정보가 안전하지 않음**
    - 하드 디스크 중 하나에 문제 발생 시, 다른 모든 하드 디스크의 정보를 읽는데 문제

> **RAID 1**
>

: 복사본을 만드는 방식 =  미러링(mirroring)

RAID 0처럼 데이터 스트라이핑이 사용되지만,  두 하드 디스크는 마치 거울처럼 다른 두 하드 디스크와 동일한 내용을 저장

- 쓰기 속도가 RAID 0 보다 느림
- 이처럼, RAID 1에 어떤 데이터를 쓸 때는 원래 본과 복사본 두 군데에 씀

  → 그래서, 쓰기 속도가 RAID 0 보다 느림

- 복구 매우 간단
- RAID 1은 하드 디스크 개수가 한정되었을 때 사용 가능한 용량이 적어지는 단점이 있음

  → RAID 0 구성은 4TB의 정보를 저장할 수 있는 반면, RAID 1에서는 2TB 정보만 저장할 수 있음


> **RAID 4**
>

RAID 1처럼 완전한 복사본을 만드는 대신 오류를 검출하고 복구하기 위한 정보를 저장한 장치를 두는 구성 방식

- `패리티 비트(parity bit)` : 오류를 검출하고 복구하기 위한 정보
- 패리티를 저장한 장치를 이용해 다른 장치들의 오류를 검출하고, 오류가 있다면 복구함
- RAID 4는 RAID 1보다 적은 하드 디스크로도 데이터를 안전하게 보관할 수 있음

> **RAID 5**
>

RAID 5는 패리티 정보를 분산하여 저장하는 방식으로 RAID 4의 문제인 병목 현상을 해소함

- RAID 4에서는 어떤 새로운 데이터가 저장될 때마다 페리티를 저장하는 디스크에도 데이터를 쓰게되므로 패리티를 저장하는 장치에 병목 현상이 발생한다는 문제
- **RAID 4는 패리티를 저장한 장치를 따로 두는 방식, RAID 5는 패리티를 분산하여 저장하는 방식**

> **RAID 6**
>

기본적으로 RAID 5와 같으나 서로 다른 두 개의 패리티를 두는 방식

- 오류를 검출하고 복구할 수 있는 수단이 두 개
- RAID 6는 RAID 4나 RAID 5보다 안전한 구성
- 새로운 정보를 저장할 때마다 함께 저장할 패리티가 두 개이므로, 쓰기 속도는 RAID 5보다 느림
- RAID 6는 데이터 저장 속도를 조금 포기하고 데이터를 더욱 안전하게 보관하고 싶을 때 사용하는 방식

**⇒ RAID 6는 서로 다른 두 개의 패리티를 두는 방식**

> **Nested RAID**
>

여러 RAID 레벨을 혼합한 방식

- RAID 0과 RAID 1을 혼합한 RAID10
- RAID 0과 RAID 5를 혼합한 RAID 50