### 10-1. 프로세스 개요

- **프로세스** : 실행 중인 프로그램을 말한다. 운영 체제는 여러 프로세스를 관리한다.
- **프로세스 제어 블록(PCB, Process Control Block)**
    - PCB는 운영 체제가 각 프로세스를 관리하기 위해 사용하는 데이터 구조로, 프로세스의 현재 상태와 관련된 모든 정보를 저장한다.
        
        여기에는 프로세스 ID, 프로그램 카운터(다음에 실행할 명령어 주소), 레지스터 상태, 메모리 관리 정보, 프로세스 우선순위, 입출력 상태 등이 포함된다.
        
    - PCB는 프로세스의 문맥을 저장하고 복원하는 데 중요한 역할을 한다.
- **문맥 교환(Context Switch)**
    - CPU가 하나의 프로세스에서 다른 프로세스로 전환할 때 발생한다.
    - 이 과정에서 현재 실행 중인 프로세스의 상태를 PCB에 저장하고, 다음에 실행할 프로세스의 PCB에서 상태를 복원한다.
    - 문맥 교환은 필수적이지만, 오버헤드가 발생하기 때문에 최소화하는 것이 중요하다.
- **프로세스의 메모리 영역**
    - 프로세스는 메모리에서 네 가지 주요 영역으로 구성된다.
        1. **코드(Code) 영역**: 실행할 프로그램의 코드가 저장된다.
        2. **데이터(Data) 영역**: 전역 변수와 정적 변수가 저장된다.
        3. **힙(Heap) 영역**: 동적으로 할당된 메모리가 저장된다.
        4. **스택(Stack) 영역**: 함수 호출 시의 로컬 변수와 반환 주소 등이 저장된다.

### 10-2. 프로세스 상태와 계층 구조

- **프로세스 상태**
    - **New (생성됨)**: 프로세스가 생성 중인 상태
    - **Ready (준비)**: 실행을 위해 준비된 상태
    - **Running (실행 중)**: 현재 CPU에서 실행 중인 상태
    - **Waiting (대기)**: 입출력 등의 이벤트를 기다리는 상태
    - **Terminated (종료됨)**: 실행이 완료된 상태
- **프로세스 계층 구조**
    - 프로세스는 부모 프로세스와 자식 프로세스로 계층 구조를 이룬다.
    - 부모 프로세스는 자식 프로세스를 생성할 수 있으며, 이러한 계층 구조는 트리 구조로 표현될 수 있다.
- **프로세스 생성 기법**
    - 프로세스 생성은 일반적으로 **fork** 시스템 호출을 통해 이루어진다.
        
        이 호출은 부모 프로세스의 복사본을 생성한다.
        
    - 자식 프로세스는 필요에 따라 **exec** 시스템 호출을 통해 다른 프로그램으로 변환될 수 있다.
    
    ⇒ 프로세스 간의 효율적인 자원 공유와 관리를 가능하게 한다.
    

### 10-3. 스레드

- **프로세스와 스레드**
    - 스레드 : 프로세스 내에서 실행되는 경량의 작업 단위
    - 각 프로세스는 하나 이상의 스레드를 가질 수 있다.
    - 스레드는 프로세스의 코드, 데이터, 힙 영역을 공유하지만, 각 스레드는 독립적인 스택과 레지스터를 가지고 있다.
    - 스레드는 문맥 교환의 오버헤드가 적고, 프로세스 간의 자원 공유가 용이하다.
- **멀티프로세스와 멀티스레드**
    - 멀티프로세스
        
        : 여러 프로세스를 동시에 실행하여 병렬 처리를 수행하는 방식
        
        - 각 프로세스는 독립적인 메모리 공간을 가진다.
        - 안정성이 높지만, 문맥 교환 오버헤드가 크다.
    - 멀티스레드
        
        : 하나의 프로세스 내에서 여러 스레드를 병렬로 실행하는 방식
        
        - 자원 공유가 쉽고 문맥 교환 오버헤드가 적다.
        - 스레드 간의 자원 경쟁 문제를 해결하기 위해 동기화가 필요하다.

---

### 질문

### 1. 데드락에 대해 설명해주세요.

둘 이상의 프로세스들이 자원을 점유한 상태에서 서로 다른 프로세스가 점유하고 있는 자원을 요구하며 무한정 기다리는 상황을 말합니다.

예를 들어, 자원 A를 가진 프로세스 P1과 자원 B를 가진 프로세스 P2가 있을 때, P1은 자원 B를 필요로 하고 P2는 자원 A를 필요로 한다면 두 프로세스는 서로 자원을 얻기 위해 무한정 기다리게 됩니다.

(데드락: 교착상태)

+) 데드락의 4가지 조건

- 비선점 (Nonpreemptive) : 다른 프로세스의 자원을 뺏을 수 없음.
- 순환 대기 (Circular wait) : 두 개 이상의 프로세스가 자원 접근을 기다릴 때, 관계가 순환적 구조.
- 점유 대기 (Hold & Wait) : 공유 자원에 대한 접근 권한을 가진 채로 다른 자원에 대한 접근 권한을 요구.
- 상호 배제(Mutual Exclusion) : 한 번에 한 프로세스만 공유 자원에 접근 가능하며, 접근 권한이 제한적일 경우.

+) 교착상태의 해결법은 무엇인가요?

교착상태 해결법으로는 예방, 회피, 발견, 회복이 있습니다. 주로 회피와 발견을 사용하는데, 회피는 교착상태가 발생하지 않도록 자원 할당을 조절하고, 발견은 교착상태가 발생하면 감지하여 해결하는 방법입니다.

### 2. 멀티 프로세스와 멀티 쓰레드의 특징에 대해 설명해주세요.

멀티 프로세스는 하나의 프로세스가 죽어도 다른 프로세스에 영향을 끼치지 않고 계속 실행된다는 장점이 있지만 멀티 쓰레드보다 많은 메모리 공간과 CPU 시간을 차지한다는 단점이 있습니다.

멀티 쓰레드는 멀티 프로세스보다 적은 메모리 공간을 차지하고 문맥 전환이 빠르다는 장점이 있지만 하나의 쓰레드에 문제가 생기면 전체 쓰레드가 영향을 받으며 동기화 문제도 있다는 단점이 있습니다.

### 3. 컨텍스트 스위칭(Context Switching)이 무엇인지 설명해주세요.

멀티 프로세스 환경에서 CPU가 어떤 하나의 프로세스를 실행하고 있는 상태에서 인터럽트 요청에 의해 다음 우선 순위의 프로세스가 실행되어야 할 때 기존의 프로세스의 상태 또는 레지스터 값(Context)을 저장하고 CPU가 다음 프로세스를 수행하도록 새로운 프로세스의 상태 또는 레지스터 값(Context)을 교체하는 작업을 말합니다.

- 컨텍스트: CPU가 해당 프로세스를 실행하기 위한 프로세스의 정보들
